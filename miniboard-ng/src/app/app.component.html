<div class="body">
  <div>
    <h1>Message board</h1>
    <h2>Let's chat!</h2>
    <div class="input-field" *ngIf="username || null">
      <p>Welcome {{username}}</p>
      <app-input [title]="'Message'" (newValue)="msgInputHandler($event)" [inputValue]="newMsg" (hitEnter)="onSubmitMessage()"></app-input>
      <button (click)="onSubmitMessage()" style="width: fit-content">Send</button>
    </div>
    <div class="login" *ngIf="!username"><span class="underline" (click)="openLoginDialog()">Log in</span> to send your first message. </div>
    <app-login-dialog></app-login-dialog>
  </div>
  
  <ul>
    <div class="message-box" *ngFor="let msg of messages" style="display: flex; gap:12px;">
      <div class="msg">{{msg.content}}</div>
      <div>from</div>
      <div *ngIf="username.length">{{msg.user_id}}</div>
      <div>{{msg.created_at | date:'short'}}</div>
    </div>
  </ul>
</div>